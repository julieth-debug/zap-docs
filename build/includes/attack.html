<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link rel="icon" href="favicon.ico" />

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="../stylesheets/navio.css" rel="stylesheet" type="text/css" media="all" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="includes includes_attack">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../images/logo.png" alt="Logo" />
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="attacking-the-app"><a name="examples"></a>Attacking The App</h1>

<p>Before you start attacking the Application its recommended to explore the application. If you haven&rsquo;t done that look at the
<a href="#explore">explore</a> section on how to perform it. The scanning of the App can be classified in to passive scan and active scan.</p>

<aside class="warning">
Do not use ZAP on unauthorized pages. Please be aware that you should only attack applications that you have been 
specifically been given permission to test.
</aside>

<h2 id="perform-passive-scan"><a name="passive_scan"></a>Perform Passive Scan</h2>
<pre class="highlight shell"><code><span class="c"># To view the alerts of passive scan</span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/core/view/alerts/?zapapiformat=JSON&amp;apikey=&lt;ZAP_API_KEY&gt;&amp;baseurl=http://localhost:3000&amp;start=&amp;count="</span>
</code></pre>

<p>All requests that are proxied through ZAP or initialised by tools like the Spider are passively scanned. You do not have 
to manually start the passive scan process, ZAP by default passively scans all HTTP messages (requests and responses) sent 
to the web application being tested. The alerts for the passive scan can be obtained via issuing the following commands on the right. </p>

<p>Passive scanning does not change the requests nor the responses in any way and is therefore safe to use.
This is good for finding problems like missing security headers or missing anti CSRF tokens but is no good for finding 
vulnerabilities like XSS which require malicious requests to be sent - thats the job of the <a href="#active_scan">active scanner</a>.</p>

<p>Passive scanning can also be used for automatically adding tags and raising alerts for potential issues. A set of rules for 
automatic tagging are provided by default. These can be changed, deleted or added to via the Options Passive Scan Tags screen.
The alerts raised by passive scanners can be configured using the Options Passive Scan Rules API.</p>

<p>The (main) behaviour of the passive scanner can be configured using the Passive Scanner API. View the advanced section to
know how to configure these additional parameters.</p>

<h2 id="perform-active-scan"><a name="active_scan"></a>Perform Active Scan</h2>

<p>Active scanning attempts to find potential vulnerabilities by using known attacks against the selected targets. Active scanning 
is an attack on those targets. You should NOT use it on web applications that you do not own. </p>

<h3 id="start-active-scanner">Start Active Scanner</h3>
<pre class="highlight shell"><code><span class="c"># To view the alerts of passive scan</span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/ascan/action/scan/?url=https%3A%2F%2Fpublic-firing-range.appspot.com&amp;recurse=true&amp;inScopeOnly=&amp;scanPolicyName=&amp;method=&amp;postData=&amp;contextId="</span>
</code></pre>

<p>The <code class="prettyprint">scan</code> endpoint runs the active scanner against the given URL and/or Context. Optionally, the <code class="prettyprint">recurse</code> parameter can be used to scan URLs 
under the given URL, the parameter <code class="prettyprint">inScopeOnly</code> can be used to constrain the scan to URLs that are in scope (ignored if a Context is specified).
The parameter <code class="prettyprint">scanPolicyName</code> allows to specify the scan policy (if none is given it uses the default scan policy). 
The parameters <code class="prettyprint">method</code> and <code class="prettyprint">postData</code> allow to select a given request in conjunction with the given URL. </p>

<p>View advanced settings to configure how to configure the <a href="#context_advanced">context</a>, <a href="#scope_advanced">scope</a>, and 
scan policy with ZAP APIs.</p>

<h3 id="view-status">View Status</h3>
<pre class="highlight shell"><code><span class="c"># To view the alerts of passive scan</span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/ascan/view/status/?scanId=1"</span>
</code></pre>

<p>The status API provides the percentage of attack done for the active scanner. The scan ID returned via starting the spider should be used to query the results. </p>

<h3 id="view-results">View Results</h3>
<pre class="highlight shell"><code><span class="c"># To view the alerts of passive scan</span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/core/view/alerts/?zapapiformat=JSON&amp;apikey=&lt;ZAP_API_KEY&gt;&amp;baseurl=http://localhost:3000&amp;start=&amp;count="</span>
</code></pre>

<p>Similar to the passive scan results the active scan results can be viewed using the alerts endpoint </p>

<h3 id="stop-active-scanning">Stop Active Scanning</h3>
<pre class="highlight shell"><code><span class="c"># To view the alerts of passive scan</span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/ascan/action/stop/?scanId=1"</span>
</code></pre>

<p>Use the stop API to stop a long running active scan. Optionally you can use the stopAllScans endpoints or pause endpoints to
stop and pause the active scanning.</p>

<p>It should be noted that active scanning can only find certain types of vulnerabilities. Logical vulnerabilities, such as 
broken access control, will not be found by any active or automated vulnerability scanning. Manual penetration testing should 
always be performed in addition to active scanning to find all types of vulnerabilities.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
