<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ZAP API Docs</title>

    <link rel="icon" href="favicon.ico" />

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/navio.css" rel="stylesheet" type="text/css" media="all" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell","python","java"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://www.zaproxy.org/'>zap org</a></li>
            <li><a href='https://github.com/zaproxy/zaproxy/wiki'>zap wiki</a></li>
            <li><a href='https://owasp-academy.teachable.com/p/owasp-zap-tutorial'>zap tutorials</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="getting-started">Getting Started</h1>

<h2 id="overview">Overview</h2>

<p>Welcome to the ZAP API Documentation! The OWASP Zed Attack Proxy (<strong>ZAP</strong>) is one of the world&rsquo;s most popular free security 
tools and is actively maintained by hundreds of international volunteers. It can help you automatically find security 
vulnerabilities in your web applications while you are developing and testing your applications. It&rsquo;s also an excellent 
tool for experienced pentesters to use for manual security testing.</p>

<p>Aside from the desktop application, ZAP has an extremely powerful API that allows us to do nearly everything that possible via the desktop interface.
This document provides example use cases &amp; API definition for OWASP ZAP. You can view code examples in the dark area to 
the right; switch the programming language of the examples with the tabs on the top right. If anything is missing or seems 
incorrect, please check the GitHub issues for existing known issues or create a new issue.</p>

<p>ZAP provides the following features:</p>

<ul>
<li>Intercepting Proxy</li>
<li>Automated Scanner</li>
<li>Passive Scanner</li>
<li>Brute Force Scanner</li>
<li>Fuzzer</li>
<li>Port Scanner</li>
<li>Spider</li>
<li>Web Sockets</li>
<li>REST API</li>
</ul>

<p>Have a look at the examples below to learn how to use ZAP.</p>

<h2 id="documentation-structure">Documentation Structure</h2>

<p>The API documentation is divided in to four main parts. Getting started guide provides</p>

<h3 id="section-summary">Section Summary</h3>

<ul>
<li><strong>Getting Started:</strong> This section provides introduction to ZAP and installation guide to setup ZAP for testing.</li>
<li><strong>Examples:</strong> Contains high-level examples on how to use ZAP APIs to perform specified actions.</li>
<li><strong>Contributions:</strong> Guidelines and instruction on how to contribute to ZAPs documentations</li>
<li><strong>API Catalogue:</strong> Contains Open API definitions for ZAP APIs. </li>
</ul>

<h2 id="quick-setup-guide">Quick Setup Guide</h2>

<blockquote>
<p>2 ways to start zap</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># Option: 1, using "headless" mode</span>
<span class="gp">$ </span>&lt;ZAP_HOME&gt;./zap.sh -daemon -config api.key<span class="o">=</span>change-me-9203935709
<span class="c"># Option: 2, using normal mode</span>
<span class="gp">$ </span>&lt;ZAP_HOME&gt;./zap.sh
</code></pre>

<p>The quick setup guide focuses on setting up <em>ZAP</em> and a testing application. If you have already setup ZAP then Jump to 
specific example to experiment with specific features. To install ZAP, go to the ZAP 
<a href="https://github.com/zaproxy/zaproxy/wiki/Downloads">home page</a> and download the installer specific to the 
operating system. After extracting the bundle you can start zap by issuing the following command.</p>

<p>The API key must be specified on all API &lsquo;actions&rsquo; and some &#39;other&rsquo; operations. The API key is used to prevent malicious 
sites from accessing the ZAP API. It is strongly recommended that you set a key unless you are using ZAP in a completely 
isolated environment.</p>

<aside class="notice">
ZAP requires Java to run.
</aside>

<h2 id="configure-testing-application">Configure Testing Application</h2>
<pre class="highlight plaintext"><code>$ git clone https://github.com/bkimminich/juice-shop.git
$ cd juice-shop 
$ npm install
$ npm start
</code></pre>

<p>If you have a website to scan then obtain a publicly accessible URL/IP. For quick start guide we will be using OWASP Juice shop.</p>

<aside class="warning">
Do not use on unauthorized pages. Use ZAP on a website only if you have permissions to perform testing on it!
</aside>

<p>OWASP Juice Shop is a modern and sophisticated insecure web application! It can be used in security trainings, 
awareness demos, CTFs and as a guinea pig for security tools! Juice Shop encompasses vulnerabilities from the entire OWASP Top Ten 
along with many other security flaws found in real-world applications!</p>

<p>Set up Juice shop with the following commands in the right column. Then visit <code class="prettyprint">http://localhost:3000</code> to access the OWASP Juice shop.</p>

<p><img alt="juice-shop" src="images/juice-shop.png" /></p>

<h2 id="getting-help">Getting help</h2>

<p>All available functions are documented in <a href="#interface">API Catalogue</a></p>

<p>A developer mailing list is available to ask questions or feature request: <a href="mailto:https://groups.google.com/d/forum/zaproxy-develop">https://groups.google.com/d/forum/zaproxy-develop</a></p>

<p>In order to report bug and make feature requests please use our github zap project
<a href="https://github.com/zaproxy/zaproxy/issues">https://github.com/zaproxy/zaproxy/issues</a>.</p>

<p>Stay tuned on twitter <a href="https://twitter.com/zaproxy">@zaproxy</a>.</p>

          <h1 id="examples"><a name="some_examples"></a>Examples</h1>

<p>Nunc lobortis mattis aliquam faucibus purus in massa tempor nec. Quis blandit turpis cursus in hac. Duis tristique 
sollicitudin nibh sit amet commodo nulla facilisi nullam. Vitae semper quis lectus nulla at. Duis at consectetur lorem donec 
massa sapien faucibus. Eu mi bibendum neque egestas congue quisque egestas. Elit eget gravida cum sociis natoque penatibus et 
magnis dis. Nibh nisl condimentum id venenatis a condimentum vitae. Eget dolor morbi non arcu risus. Fermentum iaculis eu non 
diam phasellus vestibulum. At tempor commodo ullamcorper a lacus vestibulum. Nulla facilisi etiam dignissim diam quis. Rutrum 
tellus pellentesque eu tincidunt tortor aliquam nulla. Risus in hendrerit gravida rutrum quisque non tellus. Cursus eget nunc 
scelerisque viverra mauris. Ullamcorper a lacus vestibulum sed arcu non odio. At consectetur lorem donec massa sapien faucibus. 
Tempus urna et pharetra pharetra.</p>

<aside class="notice">
You will have to use your own token with the examples below.
</aside>

<h2 id="basics-on-the-api-request">Basics on the API request</h2>
<pre class="highlight shell"><code><span class="c"># Web is too shiny: JSON, urlencode and curl forever!</span>
<span class="gp">$ </span>curl <span class="s1">'https://zap/v1/coverage/sandbox/stop_areas'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>
</code></pre>

<p>ZAP provides an Application Programming Interface (API) which allows you to interact with ZAP programmatically.</p>

<p>The API is available in the following formats.</p>

<ul>
<li>JSON </li>
<li>HTML</li>
<li>XML</li>
</ul>

<p>A simple web UI which allows you to explore and use the API is available via the URL http://zap/ when you are proxying via ZAP, 
or via the host and port ZAP is listening on, eg [http://localhost:8080/].</p>

<p>By default only the machine ZAP is running on is able to access the API. You can allow other machines, that are able to use ZAP as a proxy, 
access to the API. The API is configured using the Options API screen.</p>

<p>The API provides access to most of the core ZAP features such as the active scanner and spider. Future versions of ZAP will increase the functionality available via the APi.</p>

<aside class="success">
    Tadaaa!
    </br>
     It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.
    </br>
</aside>

<aside class="notice">
This chapter shows some usages with the minimal required arguments. However, this is not a reference and not all APIs nor 
arguments are shown. View API catalogue to see all the parameters and socpe of each APIs.
</aside>

<h2 id="using-spider">Using Spider</h2>

<p>The spider is a tool that is used to automatically discover new resources (URLs) on a particular Site. It begins with a list of URLs to visit, called the seeds, which depends on how the Spider is started. The Spider then visits these URLs, it identifies all the hyperlinks in the page and adds them to the list of URLs to visit and the process continues recursively as long as new resources are found.</p>

<p>The Spider can configured and started using the Spider dialogue.</p>

<p>During the processing of an URL, the Spider makes a request to fetch the resource and then parses the response, identifying hyperlinks. It currently has the following behavior when processing types of responses:</p>

<h3 id="start-the-spider">Start the spider</h3>
<pre class="highlight shell"><code><span class="c"># Start the spider scan </span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/spider/action/scan/?apikey=68u5tu85j34dc4g3ushdp847ku&amp;zapapiformat=JSON&amp;url=http://localhost:3000=&amp;contextName="</span>
</code></pre>

<p>The spider(s) explore the site. They don&rsquo;t actually do any scanning.
The passive scan rules examine all of the requests and responses flowing through ZAP and report the issues they can spot.
The spider API will return the scan ID as the response. </p>

<h3 id="view-status">View Status</h3>
<pre class="highlight shell"><code><span class="c"># To view the scan status</span>
<span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/spider/view/status/?apikey=68u5tu85j34dc4g3ushdp847ku&amp;scanId=&lt;scan id&gt;"</span>
</code></pre>

<p>The scan is a async request.To view the scan status. </p>

<p>The alerts for the passive scan can be obtained via issuing the following commands.</p>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"http://localhost:8080/JSON/core/view/alerts/?zapapiformat=JSON&amp;apikey=68u5tu85j34dc4g3ushdp847ku&amp;baseurl=http://localhost:3000&amp;start=&amp;count="</span>
</code></pre>

<p><img alt="alerts" src="images/alert1.png" /></p>

<h2 id="perform-passive-scan">Perform Passive Scan</h2>
<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://zap.com/v1/coverage'</span> -H <span class="s1">'Authorization: 3b036afe-0110-4202-b9ed-99718476c2e0'</span>


HTTP/1.1 200 OK

<span class="o">{</span>
    <span class="s2">"start_production_date"</span>: <span class="s2">"20140105"</span>,
    <span class="s2">"status"</span>: <span class="s2">"running"</span>,
    <span class="s2">"shape"</span>: <span class="s2">"POLYGON((-74.500997 40.344999,-74.500997 41.096999,-73.226 41.096999,-73.226 40.344999,-74.500997 40.344999))"</span>,
    <span class="s2">"id"</span>: <span class="s2">"sandbox"</span>,
    <span class="s2">"end_production_date"</span>: <span class="s2">"20140406"</span>
<span class="o">}</span>
</code></pre>

<p>Vitae turpis massa sed elementum tempus egestas sed sed risus. Pellentesque eu tincidunt tortor aliquam nulla facilisi cras. 
Tincidunt tortor aliquam nulla facilisi cras. Tristique senectus et netus et malesuada fames. Feugiat scelerisque varius morbi enim. 
Justo eget magna fermentum iaculis eu non diam. </p>

<h2 id="perform-active-scan">Perform Active Scan</h2>

<p>Active scanning attempts to find potential vulnerabilities by using known attacks against the selected targets.</p>

<p>Active scanning is an attack on those targets. You should NOT use it on web applications that you do not own.</p>

<p>In order to facilitate identifying ZAP traffic and Web Application Firewall exceptions, ZAP is accompanied by a script &ldquo;AddZapHeader.js&rdquo; which can be used to add a specific header to all traffic that passes through or originates from ZAP. eg: X-ZAP-Initiator: 3</p>

<p>It should be noted that active scanning can only find certain types of vulnerabilities. Logical vulnerabilities, such as broken access control, will not be found by any active or automated vulnerability scanning. Manual penetration testing should always be performed in addition to active scanning to find all types of vulnerabilities.</p>

<h2 id="perform-ajax-scan">Perform AJAX Scan</h2>

<p>ZAP by default passively scans all HTTP messages (requests and responses) sent to the web application being tested. Passive scanning does not change the requests nor the responses in any way and is therefore safe to use. Scanning is performed in a background thread to ensure that it does not slow down the exploration of an application.</p>

<p>The (main) behaviour of the passive scanner can be configured using the Options Passive Scanner Screen.</p>

<p>Passive scanning can also be used for automatically adding tags and raising alerts for potential issues. A set of rules for automatic tagging are provided by default. These can be changed, deleted or added to via the Options Passive Scan Tags screen.</p>

<p>The alerts raised by passive scanners can be configured using the Options Passive Scan Rules screen.</p>

<h2 id="perform-authentication">Perform Authentication</h2>

<p>Vitae turpis massa sed elementum tempus egestas sed sed risus. Pellentesque eu tincidunt tortor aliquam nulla facilisi cras. 
Tincidunt tortor aliquam nulla facilisi cras. Tristique senectus et netus et malesuada fames. Feugiat scelerisque varius morbi enim. 
Justo eget magna fermentum iaculis eu non diam. </p>

          <h1 id="contributions-welcome"><a name="contribution"></a>Contributions Welcome!</h1>

<p>Contributions are welcome in all the following forms which improves the quality and content of the documentation.</p>

<h2 id="ways-to-contribute">Ways to Contribute</h2>

<p>There are many ways you can contribute to OWASP ZAP, both as a user and as a developer.</p>

<p><strong>1. Creating High-level API Docs</strong></p>

<p>Create high level docs or example guides on how to use the APIs to perform any action/view with ZAP.
    The source files for the ZAP API documentation is hosted in Github. The repository is available at <a href="https://github.com/sshniro/zapdocs">Github</a>.
    The source files are in <code class="prettyprint">Markdown</code> (md) format.</p>

<p><strong>2. REST API Documentation</strong></p>

<p>Rest API is documented using the Open API specification. The specification could be improved by enhacing the description of 
    parameters/ results/ data types etc. The open API specification is avaiable in <a href="https://github.com/sshniro/zap-docs/blob/master/openapi.yaml">Github</a>.</p>

<p><strong>3. Feature Documentation</strong></p>

<p>Feature documentation of the ZAP is avaiable in the <a href="https://github.com/sshniro/zapdocs">Github wiki</a>.</p>

<h2 id="how-to-contribute">How to Contribute</h2>

<p>The ZAP API documentation is developed according to the <a href="https://www.writethedocs.org/guide/docs-as-code/">docs as code</a> philosophy.
The most direct and effective way to contribute to the docs is to submit a pull request(PR) or raise an 
issue in the Github repository containing the docs content that you want to change.</p>

<p>There are 2 different workflows which you can use to make changes or PRs. Use what you are most comfortable with!</p>

<p><strong>1. &ldquo;Edit this File on Github&rdquo; Option</strong></p>

<p>You can edit the documentation in the browser via navigating to the relevant source file and clicking the edit this file button.
This workflow is recommended for minor changes, For example correcting typos/spellings/grammar etc.
For extensive changes, please use the local setup and editing option.</p>

<p><strong>2. Local Setup and Editing</strong></p>

<p>You can fork the repository in Github and submit the changes via pull requests. Please see the local setup for API docs
section to setup and render the docs locally.</p>

<aside class="notice">
The API documentation (this document) is built from the master branch of ZapDocs using Slate.
</aside>

<h2 id="local-setup-for-api-docs">Local Setup for API Docs</h2>

<p>ZAP uses git for its code repository. 
To submit a documentation update, use the following steps:</p>

<p><strong>1. Clone the ZAP Docs repository:</strong> 
    <code class="prettyprint">git clone https://github.com/sshniro/zapdocs.git</code></p>

<p><strong>2. Navigate to the cloned repository:</strong> 
    <code class="prettyprint">cd zapdocs</code></p>

<p><strong>3. Use the following guide to install <a href="https://www.ruby-lang.org/en/documentation/installation/">Ruby</a></strong></p>

<p><strong>4. To install the dependencies:</strong> <code class="prettyprint">$ bundle install</code></p>

<p><strong>5. To start the server:</strong> <code class="prettyprint">$ bundle exec middleman server</code></p>

<h2 id="documentation-style">Documentation Style</h2>

<p>This style guide provides a set of editorial guidelines for anyone writing documentation for OWASP ZAP.</p>

<h3 id="language-and-grammar">Language and Grammar</h3>

<ul>
<li><p>In general, use active voice (in which the grammatical subject of the sentence is the person or thing performing the action) 
instead of passive voice (in which the grammatical subject of the sentence is the person or thing being acted upon), though there are exceptions.</p>

<p>Example:</p>

<ul>
<li>Recommended: Send a query to the scan service. The zap sends the status of the scanning process.</li>
<li>Not recommended: The scan service is queried, and an status is sent.</li>
</ul></li>
<li><p>In general, use second person in your docs rather than first person—&quot;you&quot; (sometimes implicit) instead of &ldquo;we.&rdquo;</p></li>
<li><p>The documentation should be neutral, without judgements, opinions. Make sure you do not favor anyone, our community is great as a whole, 
there is no need to point who is better than the rest of us.</p></li>
<li><p>When referencing a hypothetical person, such as “a user with a session cookie”, gender-neutral pronouns (they/their/them) should be used. For example, instead of:</p>

<ul>
<li>he or she, use they</li>
<li>him or her, use them</li>
<li>his or her, use their</li>
<li>his or hers, use theirs</li>
<li>himself or herself, use themselves</li>
</ul></li>
<li><p>Please use appropriate, informative, rather formal language.</p></li>
<li><p>When you&rsquo;re writing reference documentation for a method, phrase the main method description in terms of what it does 
(&ldquo;Gets,&rdquo; &ldquo;Lists,&rdquo; &ldquo;Creates,&rdquo; &ldquo;Searches&rdquo;), rather than what the developer would use it to do (&ldquo;Get,&rdquo; &ldquo;List,&rdquo; &ldquo;Create,&rdquo; &ldquo;Search&rdquo;).</p>

<ul>
<li>Recommended: tasks.insert: Creates a new task on the specified task list.</li>
<li>Not recommended: tasks.insert: Create a new task on the specified task list.</li>
</ul></li>
</ul>

<h3 id="principles-of-good-style">Principles of Good Style</h3>

<ul>
<li><p>Check the spelling and grammar in your contributions. Most editors include a spell checker or have an available spell-checking plugin.</p></li>
<li><p>Avoid disclaimers, opinions, and value judgements. Words like &ldquo;easily&rdquo;, &ldquo;just&rdquo;, and &ldquo;simple&rdquo; are loaded with assumptions. 
Something might seem easy to you, but be difficult for another person. Try to avoid these whenever possible.</p></li>
<li><p>Use simple, to the point sentences without complicated jargon. Compound sentences, chains of clauses, and location-specific 
idioms can make text hard to understand and translate. If a sentence can be split in two, it probably should. Avoid semicolons. 
Use bullet lists when appropriate.</p></li>
<li><p>Provide context. Don&rsquo;t use abbreviations without explaining them. Don&rsquo;t mention non zap contents without linking to them.</p></li>
</ul>

<h3 id="formatting">Formatting</h3>

<ul>
<li><p>For sections (Titles), use the following capitalization rules: Capitalization of the first word, and all other words, 
except for closed-class words.</p>

<ul>
<li>Example - The Spider Tutorial with APIs</li>
</ul></li>
</ul>

<h2 id="markdown-syntax">Markdown Syntax</h2>

<p>The API docs are created using the markdown files. This section explains the primary differences between standard Markdown rules 
and the Markdown rules that ZAP documentation uses.</p>

<h4 id="writing-code">Writing code</h4>

<p><strong>Inline Code</strong></p>

<p>Put `<code class="prettyprint">backticks</code>` around the following symbols when used in text:</p>

<ul>
<li>Argument names: <code class="prettyprint">input</code>, <code class="prettyprint">x</code>, <code class="prettyprint">tensor</code></li>
<li>Returned tensor names: <code class="prettyprint">output</code>, <code class="prettyprint">idx</code>, <code class="prettyprint">out</code></li>
<li>Data types: <code class="prettyprint">json</code>, <code class="prettyprint">xml</code>, <code class="prettyprint">html</code></li>
<li>File name: <code class="prettyprint">test.py</code>, <code class="prettyprint">/path-to-your-data/xml/example-name</code></li>
</ul>

<p><strong>Code block</strong>                                              </p>

<p>Use three back ticks to open and close a code block. Specify the programming language after the first backtick group.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
